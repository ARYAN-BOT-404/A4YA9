const axios = require("axios");
const APIKEY = "V-GoatMart-Beta-xv4-Ibs8j-90-az7-V";
const serverURL = "https://goatmart-f1ep.onrender.com";

module.exports = {
  config: {
    name: "goatmart",
    aliases: ["gm"],
    role: 0,
    shortDescription: {
      en: "View Items Available In The GoatMart."
    },
    category: "store",
    author: "ArYAN | Â©GoatMart",
  },
  onStart: async ({ api, event, args, message }) => {
    try {
      if (!args[0]) {
        api.sendMessage(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ ${event.body} ğ—‰ğ–ºğ—€ğ–¾ <ğ—½ğ—®ğ—´ğ—² ğ—»ğ˜‚ğ—ºğ—¯ğ—²ğ—¿>\nâœ ${event.body} ğ—Œğ—ğ—ˆğ— <ğ—œğ˜ğ—²ğ—º ğ—œğ——>\nâœ ${event.body} ğ—ğ—‰ğ—…ğ—ˆğ–ºğ–½ < ğ—ğ˜€ğ—¼ğ—» ğ—™ğ—¼ğ—¿ğ—ºğ—®ğ˜>\nâœ ${event.body} ğ–¾ğ–½ğ—‚ğ— <ğ—œğ˜ğ—²ğ—º ğ—œğ——>\nâœ ${event.body} ğ—Œğ–¾ğ–ºğ—‹ğ–¼ğ— <ğ—œğ˜ğ—²ğ—º ğ—¡ğ—®ğ—ºğ—²>\nâœ ${event.body} ğ–½ğ–¾ğ—…ğ–¾ğ—ğ–¾ <ğ—œğ˜ğ—²ğ—º ğ—œğ——>\n\nğŸ“’ ğ—¡ğ—¼ğ˜ğ—²: ğ–¨ğ–¿ ğ—’ğ—ˆğ— ğ–½ğ—ˆğ—‡'ğ— ğ—„ğ—‡ğ—ˆğ— ğ—ğ—ˆğ— ğ—ğ—ˆ ğ—ğ—Œğ–¾ ğ—ğ—‰ğ—…ğ—ˆğ–ºğ–½, ğ–¾ğ–½ğ—‚ğ— ğ–¿ğ–¾ğ–ºğ—ğ—ğ—‹ğ–¾ğ—Œ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡ ğ–ºğ—Œğ—„ ğ–ºğ–»ğ—ˆğ—ğ— ğ—ğ—ğ—‚ğ—Œ ğ—ğ—ˆğ—‰ğ—‚ğ–¼ ğ–¿ğ—‹ğ—ˆğ—† ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–£ğ–¾ğ—ğ–¾ğ—…ğ—ˆğ—‰ğ–¾ğ—‹ğ—Œ.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.`, event.threadID, event.messageID);
      } else if (args[0] === "page") {
        const pageNumber = parseInt(args[1]);
        const response = await axios.get(`${serverURL}/api/items?apikey=${APIKEY}`);
        const items = response.data;

        if (response.status === 200) {
          const totalPages = Math.ceil(items.length / 6);
          const offset = (pageNumber - 1) * 6;

          if (pageNumber <= 0 || pageNumber > totalPages || isNaN(pageNumber)) {
            api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\nğ–³ğ—ğ–¾ ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ ğ˜†ğ—ˆğ˜‚ ğ–ºğ—‹ğ–¾ ğ—ğ—‹ğ—’ğ—‚ğ—‡ğ—€ ğ˜ğ—ˆ ğ–ºğ–¼ğ–¼ğ–¾ğ—Œğ—Œ ğ—‚ğ—Œ ğ–¼ğ—ğ—‹ğ—‹ğ–¾ğ—‡ğ—ğ—…ğ—’ ğ—‡ğ—ˆğ— ğ–ºğ—ğ–ºğ—‚ğ—…ğ–ºğ–»ğ—…ğ–¾ ğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—ªğ–¾ğ–»ğ—Œğ—‚ğ—ğ–¾. ğ–¸ğ—ˆğ— ğ–¼ğ–ºğ—‡ ğ–ºğ—…ğ—Œğ—ˆ ğ–ºğ—Œğ—„ ğ–¿ğ—‹ğ—ˆğ—† ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–£ğ–¾ğ—ğ–¾ğ—…ğ—ˆğ—‰ğ–¾ğ—‹ğ—Œ ğ—ğ—ˆ ğ—†ğ–ºğ—„ğ–¾ ğ—’ğ—ˆğ—ğ—‹ ğ—‹ğ–¾ğ—Šğ—ğ–¾ğ—Œğ— ğ–ºğ—Œ ğ—‰ğ—ˆğ—Œğ—Œğ—‚ğ–»ğ—…ğ–¾. ğ–³ğ—ğ–ºğ—‡ğ—„ ğ–¸ğ—ˆğ—.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—ˆğ–ºğ—ğ— ğ–ºğ—‹ğ—\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ˜†ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ—†ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
          } else {
            const pageItems = items.slice(offset, offset + 6);

            const itemDescriptions = pageItems.map(
              (item) =>
                `ğŸ‘‘ ğ—œğ˜ğ—²ğ—º ğ—¡ğ—®ğ—ºğ—²: ${item.itemName}\nğŸ†” ğ—œğ˜ğ—²ğ—º ğ—œğ——: ${item.itemID}\nâš™ ğ—œğ˜ğ—²ğ—º ğ—§ğ˜†ğ—½ğ—²: ${item.type || "Unknown"}\nğŸ“ ğ——ğ—²ğ˜€ğ—°ğ—¿ğ—¶ğ—½ğ˜ğ—¶ğ—¼ğ—»: ${item.description}\nğŸ’» ğ—”ğ˜‚ğ˜ğ—µğ—¼ğ—¿: ${item.authorName}\nğŸ“… ğ—§ğ—¶ğ—ºğ—²: ${new Date(item.timestamp).toLocaleString()}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”\n`
            );

            const itemInfo = itemDescriptions.join("\n");

            message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ğ–§ğ–¾ğ—‹ğ–¾ ğ–ºğ—‹ğ–¾ ğ—Œğ—ˆğ—†ğ–¾ ğ——ğ—®ğ˜ğ—® ğ–¼ğ—ğ—‹ğ—‹ğ–¾ğ—‡ğ—ğ—…ğ—’ ğ–ºğ—ğ–ºğ—‚ğ—…ğ–ºğ–»ğ—…ğ–¾ ğ—‚ğ—‡ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\n\n${itemInfo}ğŸ“ ğ—¨ğ˜€ğ—®ğ—´ğ—²ğ˜€:\n ${event.body.split(" ")[0]} [ show ] <item id> to view command data.\n\nğŸ‘‘ ğ—£ğ—®ğ—´ğ—²ğ˜€: [ ${pageNumber} / ${totalPages} ]\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.`);
          }
        } else if (response.status === 401) {
          api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nğ–³ğ—ğ–¾ ğ—”ğ—£ğ—œ ğ—ğ—˜ğ—¬ ğ—’ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ—ğ—‹ğ—’ğ—‚ğ—‡ğ—€ ğ—ğ—ˆ ğ–ºğ–¼ğ–¼ğ–¾ğ—Œğ—Œ ğ—ˆğ—ğ—‹ ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğ—‚ğ—Œ ğ—‡ğ—ˆğ— ğ–ºğ–¼ğ—ğ—‚ğ—ğ–ºğ—ğ–¾ğ–½ ğ—‚ğ—‹ ğ—‚ğ—‡ğ—ğ–ºğ—…ğ—‚ğ–½ ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’, ğ—‰ğ—…ğ–¾ğ–ºğ—Œğ–¾ ğ–¼ğ—ğ–¾ğ–¼ğ—„ ğ—’ğ—ˆğ—ğ—‹ ğ—”ğ—£ğ—œ ğ—ğ—˜ğ—¬ ğ—‚ğ—Œ ğ—ğ—ˆğ—‹ğ—„ğ—‚ğ—‡ğ—€, ğ—‚ğ–¿ ğ—ğ—ğ—‚ğ—Œ ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’ ğ—‚ğ—Œ ğ—‡ğ—ˆğ— ğ—ğ–ºğ—…ğ—‚ğ–½ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡ ğ—ƒğ—ˆğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–¢ğ—ˆğ—†ğ—†ğ—ğ—‡ğ—‚ğ—ğ—’ ğ–¿ğ—ˆğ—‹ ğ—‡ğ–¾ğ— ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’, ğ–»ğ–¾ğ–¼ğ–ºğ—ğ—Œğ–¾ ğ—ğ—‚ğ—ğ—ğ—ˆğ—ğ—‹ ğ–ºğ—ğ—ğ—ğ—ˆğ—‹ğ—‚ğ—Œğ–¾ğ–½ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡'ğ— ğ–ºğ–¼ğ–¼ğ–¾ğ—Œ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–²ğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ. ğ–³ğ—ğ–ºğ—‡ğ—„ ğ–¸ğ—ˆğ—\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
        }
      } else if (args[0] === "search") {
        const searchTerm = args.slice(1).join(" ").toLowerCase();

        const response = await axios.get(`${serverURL}/api/items?apikey=${APIKEY}`);

        const items = response.data;
        const matchingItems = items.filter(item => item.itemName.toLowerCase().includes(searchTerm) || item.description.toLowerCase().includes(searchTerm));

        if (matchingItems.length > 0) {
          const itemDescriptions = matchingItems.map(item => `\nğŸ‘‘ ğ—œğ˜ğ—²ğ—º ğ—¡ğ—®ğ—ºğ—²: ${item.itemName}\nğŸ†” ğ—œğ˜ğ—²ğ—º ğ—œğ——: ${item.itemID}\nâš™ ğ—œğ˜ğ—²ğ—º ğ—§ğ˜†ğ—½ğ—²: ${item.type || "Unknown"}\nğŸ“ ğ——ğ—²ğ˜€ğ—°ğ—¿ğ—¶ğ—½ğ˜ğ—¶ğ—¼ğ—»: ${item.description}\nğŸ’» ğ—”ğ˜‚ğ˜ğ—µğ—¼ğ—¿: ${item.authorName}\nğŸ“… ğ—§ğ—¶ğ—ºğ—²: ${new Date(item.timestamp).toLocaleString()}\nâ”â”â”â”â”â”â”â”â”â”â”â”\n`);
          const itemInfo = itemDescriptions.join("\n");

          message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ğ–§ğ–¾ğ—‹ğ–¾ ğ—‚ğ—Œ ğ—’ğ—ˆğ—ğ—‹ ğ—Œğ–¾ğ–ºğ—‹ğ–¼ğ—ğ–¾ğ–½ ğ—‹ğ–¾ğ—Œğ—ğ—…ğ—ğ—Œ ğ–½ğ–ºğ—ğ–º ğ–¿ğ—ˆğ—‹ ğ—’ğ—ˆğ—ğ—‹ ğ—Šğ—ğ–¾ğ—‹ğ—’: ${searchTerm} ğ—‚ğ—‡ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ .\n\n${itemInfo}`);
        } else {
          message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\nğ–³ğ—ğ–¾ ğ—Œğ–¾ğ–ºğ—‹ğ–¼ğ— ğ—ğ–¾ğ—‹ğ—† ğ—’ğ—ˆğ— ğ—‰ğ—‹ğ—ˆğ—ğ—‚ğ–½ğ–¾ğ–½ ğ–½ğ—ˆğ–¾ğ—Œ ğ—‡ğ—ˆğ— ğ—†ğ–ºğ—ğ–¼ğ— ğ–ºğ—‡ğ—’ ğ–ºğ—ğ–ºğ—‚ğ—…ğ–ºğ–»ğ—…ğ–¾ ğ—‚ğ—ğ–¾ğ—†ğ—Œ ğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ—ğ–¾ğ–»ğ—Œğ—‚ğ—ğ–¾.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.`);
        }
      } else if (args[0] === "show") {
        const itemID = isNaN(args[1]) ? args[1] : parseInt(args[1]);
        const response = await axios.get(`${serverURL}/api/items/${itemID}?apikey=${APIKEY}`);
        const item = response.data;

        if (item && itemID) {
          message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nğŸ‘‘ ğ—œğ˜ğ—²ğ—º ğ—¡ğ—®ğ—ºğ—²: ${item.itemName}\nğŸ†” ğ—œğ˜ğ—²ğ—º ğ—œğ——: ${item.itemID}\nğŸ“ ğ——ğ—²ğ˜€ğ—°ğ—¿ğ—¶ğ—½ğ˜ğ—¶ğ—¼ğ—»: ${item.description}\nğŸ“ ğ—œğ˜ğ—²ğ—º ğ—Ÿğ—¶ğ—»ğ—¸: ${item.pastebinLink}\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.`);
        } else if (response.status === 404) {
          api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\nğ–³ğ—ğ–¾ ğ—Œğ–¾ğ–ºğ—‹ğ–¼ğ— ğ—ğ–¾ğ—‹ğ—† ğ—’ğ—ˆğ— ğ—‰ğ—‹ğ—ˆğ—ğ—‚ğ–½ğ–¾ğ–½ ğ–½ğ—ˆğ–¾ğ—Œ ğ—‡ğ—ˆğ— ğ—†ğ–ºğ—ğ–¼ğ— ğ–ºğ—‡ğ—’ ğ–ºğ—ğ–ºğ—‚ğ—…ğ–ºğ–»ğ—…ğ–¾ ğ—‚ğ—ğ–¾ğ—†ğ—Œ ğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ—ğ–¾ğ–»ğ—Œğ—‚ğ—ğ–¾.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
        } else if (response.status === 401) {
          api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nğ–³ğ—ğ–¾ ğ—”ğ—£ğ—œ ğ—ğ—˜ğ—¬ ğ—’ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ—ğ—‹ğ—’ğ—‚ğ—‡ğ—€ ğ—ğ—ˆ ğ–ºğ–¼ğ–¼ğ–¾ğ—Œğ—Œ ğ—ˆğ—ğ—‹ ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğ—‚ğ—Œ ğ—‡ğ—ˆğ— ğ–ºğ–¼ğ—ğ—‚ğ—ğ–ºğ—ğ–¾ğ–½ ğ—‚ğ—‹ ğ—‚ğ—‡ğ—ğ–ºğ—…ğ—‚ğ–½ ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’, ğ—‰ğ—…ğ–¾ğ–ºğ—Œğ–¾ ğ–¼ğ—ğ–¾ğ–¼ğ—„ ğ—’ğ—ˆğ—ğ—‹ ğ—”ğ—£ğ—œ ğ—ğ—˜ğ—¬ ğ—‚ğ—Œ ğ—ğ—ˆğ—‹ğ—„ğ—‚ğ—‡ğ—€, ğ—‚ğ–¿ ğ—ğ—ğ—‚ğ—Œ ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’ ğ—‚ğ—Œ ğ—‡ğ—ˆğ— ğ—ğ–ºğ—…ğ—‚ğ–½ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡ ğ—ƒğ—ˆğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–¢ğ—ˆğ—†ğ—†ğ—ğ—‡ğ—‚ğ—ğ—’ ğ–¿ğ—ˆğ—‹ ğ—‡ğ–¾ğ— ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’, ğ–»ğ–¾ğ–¼ğ–ºğ—ğ—Œğ–¾ ğ—ğ—‚ğ—ğ—ğ—ˆğ—ğ—‹ ğ–ºğ—ğ—ğ—ğ—ˆğ—‹ğ—‚ğ—Œğ–¾ğ–½ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡'ğ— ğ–ºğ–¼ğ–¼ğ–¾ğ—Œ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–²ğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ. ğ–³ğ—ğ–ºğ—‡ğ—„ ğ–¸ğ—ˆğ—\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
        }
      } else if (args[0] === "edit") {
				try {
					const itemID = isNaN(args[1]) ? args[1] : parseInt(args[1]);
					const newItemDetails = JSON.parse(args.slice(2).join(" "));

					const response = await axios.put(`${serverURL}/api/items/${itemID}?apikey=${APIKEY}`, newItemDetails);

					message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ğ–¨ğ—ğ–¾ğ—† ğ–¾ğ–½ğ—‚ğ—ğ–¾ğ–½ ğ—Œğ—ğ–¼ğ–¼ğ–¾ğ—Œğ—Œğ–¿ğ—ğ—…ğ—…ğ—’\nğŸ‘‘ ğ—œğ˜ğ—²ğ—º ğ—¡ğ—®ğ—ºğ—²: ${response.data.itemName}\nğŸ†” ğ—œğ˜ğ—²ğ—º ğ—œğ——: ${response.data.itemID}`);
				} catch (err) {
					console.error(err);
					api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nğ–¸ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ–»ğ–ºğ—‡ğ—‡ğ–¾ğ–½ ğ–¿ğ—‹ğ—ˆğ—† ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ğ—ğ—‚ğ—Œ ğ–¼ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
				}
			} else if (args[0] === "delete") {
				try {
					const itemID = isNaN(args[1]) ? args[1] : parseInt(args[1]);

					const response = await axios.delete(`${serverURL}/api/items/${itemID}?apikey=${APIKEY}`);

					if (response.status === 204) {
						message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ğ–¨ğ—ğ–¾ğ—† ğ–½ğ–¾ğ—…ğ–¾ğ—ğ–¾ğ–½ ğ—Œğ—ğ–¼ğ–¼ğ–¾ğ—Œğ—Œğ–¿ğ—ğ—…ğ—…ğ—’ ğ–¿ğ—‹ğ—ˆğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğŸ†” ğ—œğ˜ğ—²ğ—º ğ—œğ——: ${itemID}`);
					} else {
						message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nğ–¸ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ–»ğ–ºğ—‡ğ—‡ğ–¾ğ–½ ğ–¿ğ—‹ğ—ˆğ—† ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ğ—ğ—‚ğ—Œ ğ–¼ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.`);
					}
				} catch (err) {
					console.error(err);
					api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nğ–¸ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ–»ğ–ºğ—‡ğ—‡ğ–¾ğ–½ ğ–¿ğ—‹ğ—ˆğ—† ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ğ—ğ—‚ğ—Œ ğ–¼ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
				}
			} else if (args[0] === "upload") {
				try {
					const itemDetails = JSON.parse(args.slice(1).join(" "));
					const response = await axios.post(`${serverURL}/api/items?apikey=${APIKEY}`, itemDetails);

					if (response.status === 201) {
						const uploadedItem = response.data;
						message.reply(`ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nğ–¸ğ—ˆğ—ğ—‹ ğ——ğ—®ğ˜ğ—® ğ—Œğ—ğ–¼ğ–¼ğ–¾ğ—Œğ—Œğ–¿ğ—ğ—…ğ—…ğ—’ ğ—ğ—‰ğ—…ğ—ˆğ–ºğ–½ğ–¾ğ–½ ğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾.\n\nğŸ‘‘ ğ—œğ˜ğ—²ğ—º ğ—¡ğ—®ğ—ºğ—²: ${uploadedItem.itemName}\nğŸ†” ğ—œğ˜ğ—²ğ—º ğ—œğ——: ${uploadedItem.itemID}\nâš™ ğ—œğ˜ğ—²ğ—º ğ—§ğ˜†ğ—½ğ—²: ${uploadedItem.type || "Unknown"}\nğŸ“ ğ——ğ—²ğ˜€ğ—°ğ—¿ğ—¶ğ—½ğ˜ğ—¶ğ—¼ğ—»: ${uploadedItem.description}\nğŸ“ ğ—œğ˜ğ—²ğ—º ğ—Ÿğ—¶ğ—»ğ—¸: ${uploadedItem.pastebinLink}\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.`);
					} else if (response.status === 401) {
						api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nğ–³ğ—ğ–¾ ğ—”ğ—£ğ—œ ğ—ğ—˜ğ—¬ ğ—’ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ—ğ—‹ğ—’ğ—‚ğ—‡ğ—€ ğ—ğ—ˆ ğ–ºğ–¼ğ–¼ğ–¾ğ—Œğ—Œ ğ—ˆğ—ğ—‹ ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğ—‚ğ—Œ ğ—‡ğ—ˆğ— ğ–ºğ–¼ğ—ğ—‚ğ—ğ–ºğ—ğ–¾ğ–½ ğ—‚ğ—‹ ğ—‚ğ—‡ğ—ğ–ºğ—…ğ—‚ğ–½ ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’, ğ—‰ğ—…ğ–¾ğ–ºğ—Œğ–¾ ğ–¼ğ—ğ–¾ğ–¼ğ—„ ğ—’ğ—ˆğ—ğ—‹ ğ—”ğ—£ğ—œ ğ—ğ—˜ğ—¬ ğ—‚ğ—Œ ğ—ğ—ˆğ—‹ğ—„ğ—‚ğ—‡ğ—€, ğ—‚ğ–¿ ğ—ğ—ğ—‚ğ—Œ ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’ ğ—‚ğ—Œ ğ—‡ğ—ˆğ— ğ—ğ–ºğ—…ğ—‚ğ–½ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡ ğ—ƒğ—ˆğ—‚ğ—‡ ğ—ˆğ—ğ—‹ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–¢ğ—ˆğ—†ğ—†ğ—ğ—‡ğ—‚ğ—ğ—’ ğ–¿ğ—ˆğ—‹ ğ—‡ğ–¾ğ— ğ–ºğ—‰ğ—‚ğ—„ğ–¾ğ—’, ğ–»ğ–¾ğ–¼ğ–ºğ—ğ—Œğ–¾ ğ—ğ—‚ğ—ğ—ğ—ˆğ—ğ—‹ ğ–ºğ—ğ—ğ—ğ—ˆğ—‹ğ—‚ğ—Œğ–¾ğ–½ ğ—’ğ—ˆğ— ğ–¼ğ–ºğ—‡'ğ— ğ–ºğ–¼ğ–¼ğ–¾ğ—Œ ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜ ğ–²ğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ. ğ–³ğ—ğ–ºğ—‡ğ—„ ğ–¸ğ—ˆğ—\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
					}
				} catch (err) {
					console.error(err);
					api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nğ–¸ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ–»ğ–ºğ—‡ğ—‡ğ–¾ğ–½ ğ–¿ğ—‹ğ—ˆğ—† ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ğ—ğ—‚ğ—Œ ğ–¼ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
				}
			}
		} catch (err) {
      console.error(err);
      api.sendMessage("ğŸ“š ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nğ–¸ğ—ˆğ— ğ–ºğ—‹ğ–¾ ğ–»ğ–ºğ—‡ğ—‡ğ–¾ğ–½ ğ–¿ğ—‹ğ—ˆğ—† ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ğ—ğ—‚ğ—Œ ğ–¼ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½.\n\n- ğ–³ğ–¾ğ–ºğ—† ğ—šğ—¼ğ—®ğ˜ğ— ğ—®ğ—¿ğ˜\nğ–³ğ—ğ–ºğ—‡ğ—„ ğ—’ğ—ˆğ— ğ–¿ğ—ˆğ—‹ ğ—ğ—Œğ—‚ğ—‡ğ—€ ğ—ˆğ—ğ—‹ ğ–¦ğ—ˆğ–ºğ—ğ–¬ğ–ºğ—‹ğ— ğ—Œğ–¾ğ—‹ğ—ğ—‚ğ–¼ğ–¾ğ—Œ ğŸ¥°.", event.threadID, event.messageID);
    }
  },
};
