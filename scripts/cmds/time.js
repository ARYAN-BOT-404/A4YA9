const moment = require('moment-timezone');

module.exports.config = {
  name: "autotime2",
  version: "2.0.0",
  role: 0,
  author: "kylepogi",//don't change the author kung ayaw mong ma pwetan!! 
  description: "Automatically sends messages based on set times.",
  category: "AutoTime",
  countDown: 3
};

module.exports.onLoad = async ({ api }) => {
  const arrayData = {
     "12:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π­π®:π¬π¬ π—£π— \n\nπ“β¨π— π‚π—»π—±π—²π—Ώπ€ππ—®π—»π—± π†π—Όπ‚ ππ—Ό π€π—²π† π—Ήπ—Όπƒπ—², π€π—Ό π—¶\nπ—³π—¶π—»π—± π†π—Όπ‚ π—®π€ π—µπ‚π—Ίπ—®π—» π—½π—²π—®π—°π—² π—®π ππ—µπ—² π—²π—»π—± π—Όπ—³ ππ—µπ—² π—±π—²π†..!β¤οΈβ€π©Ή"
      },
      "01:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π­:π¬π¬ π—”π— \n\nπ“π— π—®π†π—―π—² π—π—Ί ππ—Όπ—Ό π—―π—®π—± π—―π‚π π„π—µπ—Ό π—Έπ—»π—Όπ„π€...!!π–¤\nπ—›π—² π„π—¶π—Ήπ—Ή π—Όπ—»π—Ήπ† π—Ήπ—Όπ—Όπ—Έ π—³π—Όπ—Ώ π—Ίπ—²..!! π½β¨"
      },
      "02:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π®:π¬π¬ π—”π— \n\nπ“ π—”π—· π—®π—Ίπ—¶ π€π—Όπ—― π—µπ—®π—Ώπ—®π—»π—Ό\nπ—”π—Ίπ—¶ π€π‚π—»π—Όππ—®π—¶ π—―π—®π€π—² π—µπ—®π—µπ—®π—Έπ—®π—Ώ π—±π—®π—Έπ—¶ π—Ήπ—®π—΄π—² π—―π—µπ—Όπ†β™΅<π―"

      },
      "03:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π―:π¬π¬ π—”π— \n\nπ“ ππ—²π—Ώπ—¶ π—»π—®π‡π—Ώπ—Όπ—» π—Ίπ—²π—¶π—» π—µπ—®π—¶ ππ—²π—Ώπ—² π€π—®π—½π—»π—²,\nππ—²π—Ώπ—² π€π—®π—½π—»π—Όπ—» π—Ίπ—²π—¶π—» π—µπ—®π—¶ π—»π—®π—Ώπ—®π—®π‡π—¶β™΅<π―"
        
      },
      "04:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π°:π¬π¬ π—”π— \n\nπ“ π—΅π—Όπ—±π—¶π—Ώ π—Όπ—½π—®π—Ώπ—² π—®π—Ίπ—®π—Ώ π€π—µπ—Όπ—½π—»π—Ό π—Ώπ—Όπ—µπ—®π—² π—΄π—®π—°π—²\nπ—§π—Όπ—―π‚ π—®π—Ίπ—¶ ππ—Όπ—Ώπ—¶ π—Ίπ—®π—·π—²..!β™΅<π―"

      },
      "05:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π±:π¬π¬ π—”π— \n\nπ“π—§π—Όπ—Ίπ—®π† π—›π—®π—Ώπ—¶π—± π— π—®π—·π—®π—Ώπ—² π—¥π—µπ—®π—Έπ—¶π—―π—Ό\nπ—–π—µπ—²π—Ώπ—® π——π—¶π—―π—Ό π—΅π—®π—µβ™΅<π―"
        
      },
      "06:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π²:π¬π¬ π—”π— \n\nπ“ π—π—Όπ—Ήπ—½π—Ό ππ—® π—·π—Όπ—±π—¶ π—―π—µπ—®π—Ήπ—Ό π—µπ—Όπ—¶ π—Έπ—µπ—Όππ—¶ π—Έπ—¶\nπ—§π—Όπ—Ίπ—®π—Έπ—² ππ—Ό π—Έπ—®π—°π—µπ—² ππ—µπ—®π—Έπ—²\nπ—±π—®π—Έπ—µπ—²π—°π—¶ π—―π—µπ—®π—Ήπ—Όπ—¶ ππ—Όβ™΅<π―"
        
      },
      "07:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π³:π¬π¬ π—”π— \n\nπ“ π—•π—µπ—®π€π—² π—®π€π—Ό ππ‚π—Ίπ—¶ π—®π—Ίπ—®π—Ώπ—¶ π€π—µπ—Όπ—½π—Όπ—»π—²\nπ—®π—±π—µπ—®π—Ώπ—²π—Ώ π—Έπ—µπ—®π—Ήπ—Ό π—Όπ—»π—±π—Όπ—Έπ—®π—Ώπ—²..!"
        
      },
      "08:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π΄:π¬π¬ π—”π— \n\nπ“ π—•π—Όπ—Ήπ—»π—® ππ‚π—¶ π—―π—Όπ—Ήπ—»π—® π—―π‚π—Ήπ—² π—΄π—¶π†π—® π—°π—µπ—Όπ—Ήπ—Όπ—»π—®\nπ—Ό π—Ίπ—Όπ—» ππ‚π—¶ π—―π—Όπ—Ήπ—»π—®\nπ—•π—µπ—®π—Ήπ—Όπ—―π—®π€π—µπ—¶ π—―π—Όπ—Ήπ—»π—®..!"
        
      },
      "09:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬πµ:π¬π¬ π—”π— \n\nπ“ π—΅π—®\nπ—Έπ—Όπ—¶ π—µπ—²π—¶π—»! π—΅π—® π—Έπ—Όπ—¶ ππ—µπ—® π—­π—¶π—»π—±π—²π—΄π—¶\nπ—Ίπ—²π—¶π—» π—Έπ—µπ‚π—± π—Έ π€π—¶π„π—®π©·π«¶"
        
      },
      "10:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π­π¬:π¬π¬ π—”π— \n\nπ“ π—Άπ—µπ—² π—π—¶ π—π—Όπ—Ώπ—¶π—Ήπ—² π—•π—®π—Ήπ—Ό π—£π—®π—¶π—―π—Ό π—§π—Όπ—Ίπ—®π—Ώπ—²..!\nπ—¥π—®π—Έπ—µπ—¶π—―π—Ό π—”π—Έπ—µπ—¶ππ—² π—”π—Έπ—µπ—¶ππ—²..?π…β¤οΈβ€π©Ή"
        
      },
      "11:00:00 AM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π­π­:π¬π¬ π—”π— \n\nπ“ π— π—¶π—Ήπ—Ήπ—¶π—Όπ—» π—³π—²π—²π—Ήπ—¶π—»π—΄π€ π—³π—Όπ—Ώ π—Όπ—»π—² π€π—½π—²π—°π—¶π—®π—Ή\nπ—½π—²π—Ώπ€π—Όπ—» π—®π—»π—± ππ—µπ—®π π—¶π€ π—¬π—Άπ—¨Β°π™π’"
        
      },
      "12:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π­π®:π¬π¬ π—£π— \n\nπ“π— π—²π—Ώπ—¶ π—µπ—Όπ—Έπ—² π—µπ—®π—Ίπ—²π€π—µπ—® π—µπ—¶ π—Ώπ—²π—µπ—»π—® π—Έπ—®π—―π—»π—¶ π—»π—®\nπ—Έπ—²π—µπ—»π—® π—®π—Ήπ—―π—¶π—±π—®β™΅<π―π¥Ί"
        
      },
      "01:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π­:π¬π¬ π—£π— \n\nπ“ π— π—®π—¶π—»π—² ππ—²π—Ώπ—® π—»π—®π—®π—Ί π—±π—¶π—Ή π—Ώπ—®π—Έπ—µ π—±π—¶π†π—®\nπ—Ίπ—®π—¶π—»π—² ππ—²π—Ώπ—® π—»π—®π—®π—Ί π—±π—¶π—Ή π—Ώπ—®π—Έπ—µ\nπ—±π—¶π†π—®β™΅<π―"
        
      },
      "02:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π®:π¬π¬ π—£π— \n\nπ“π—•π—µπ—®π—Ήπ—Όπ—―π—®π€π—µπ—¶ π—•π—Όπ—Ήπ—² π——π—®π„ π—”π—Ίπ—®π† π—•π—Όπ—Ήπ—²\nπ——π—®π„ π—›π—²π† π—¦π—Όπ—― π—π—Όπ—―π‚π—Ήβ™΅<π―"
        
      },
      "03:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π―:π¬π¬ π—£π— \n\n π“ π—£π—Ώπ—²π—Ί π—§π‚π—Ίπ—¶ π—”π€π—µπ—―π—² π—πƒπ—®π—―π—²...!\nπ—”π—―π—®π—Ώ π—›π—®π—Ώπ—¶π†π—² π—π—®π—―π—² π—©π—®π—―π—¶π—»π—¶β™΅<π―"
        
      },
      "04:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π°:π¬π¬ π—£π— \n\nπ“ π—”π—Ήπ—Ό π—®π—Ήπ—Ό π—®π—Ίπ—¶ π—π—µπ—Όπ—Έπ—Όπ—»π—Ό π—Έπ‚π—·π—² π—½π—®π—―π—Ό π—»π—®\nπ—–π—µπ—®π—»π—±π—²π—Ώ π—®π—Ήπ—Ό ππ‚π—Ίπ—¶ π—Έπ—µπ—Όπ—Έπ—Όπ—»π—Ό\nπ—®π—Ίπ—®π—Ώ π—µπ—Όπ—―π—² π—»π—®β™΅<π―"
        
      },
      "05:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π±:π¬π¬ π—£π— \n\nπ“ π—§π‚π—Ίπ—¶ π—®π—Έπ€π—µπ—®π—Ώ π—―π‚π—Έπ—² π—―π—¶π€π—®π—Ήππ—®π—Ώ π‚π—½π—Όπ—Ίπ—®\nπ—§π‚π—Ίπ—¶ π—®π—Ίπ—®π—Ώ π—°π—µπ—Όπ—Έπ—² ππ—²\nπ€π—µπ—Όπ—Ώπ—Όππ—®π—Ή π—½π—Ώπ—Όππ—¶π—Ίπ—®β™΅<π―"
        
      },
      "06:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π²:π¬π¬ π—£π— \n\nπ“ π—¦π‚π—»π—»π—®π—Ώ π—²π—¶ π—·π—Όπ—΄π—Όππ—² π—®π—Ίπ—¶ π—®π€π—°π—¶π—Ήπ—®π—Ί\nπ€π‚π—»π—»π—Ό π—µπ—®ππ—² π—½π—®π—¶π—»π—¶ π—Έπ—¶π—°π‚π—¶π—²π—¶\nπ€π‚π—»π—»π—Όππ—® π—°π—µπ—®π—Ώπ—®..!β™΅<π―"
        
      },
      "07:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π³:π¬π¬ π—£π— \n\nπ“ π—”π—Ίπ—¶ ππ—Όπ—Ίπ—®π—Έπ—² π—•π—µπ—®π—Ήπ—Όπ—―π—®π€π—µπ—¶ ππ‚π—Ίπ—¶ π—½π—®π€π—µπ—®\nπ—°π—µπ—¶π—Ήπ—² π—―π—Όπ—Ήπ—² π—―π—®π—°π—µπ—² π—®π—°π—°π—µπ—¶β™΅<π―"
        
      },
      "08:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬π΄:π¬π¬ π—£π— \n\nπ“ π—π—®π—»π—»π—¶ π—®π—―π—²π—Ώ π—®π—Έππ—¶ π—·π—Όπ—»π—»π—Ίπ—Ό π—®π—Ίπ—®π—Ώ π—Έπ—Όπ—―π‚ π—µπ—Όπ—―π—²\nπ—»π—µ\nπ—π—®π—»π—¶ π—®π—―π—²π—Ώ π—®π—Ίπ—Όπ—» π—Έπ—Όπ—Ώπ—²\nππ—Όπ—Ίπ—®π—Ώ π—±π—®π—Έπ—µπ—® π—½π—®π—―π—Ό π—»π—µ..!β™΅<π―"
        
      },
      "09:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π¬πµ:π¬π¬ π—£π— \n\nπ“ π— π—®π—¶π—»π—² π—Ώπ—Όπ†π—® ππ‚π—·π—µπ—² π—±π—µπ‚π—»π—± π—±π—µπ‚π—»π—± π—Έπ—²\nπ—¥π—Όπ†π—®ππ—µπ—® π—Ίπ—®π—¶π—» ππ‚ π—»π—® π—Ίπ—¶π—Ήπ—®π—®β™΅<π―"
        
      },
      "10:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π­π¬:π¬π¬ π—£π— \n\nπ“ π—π—Όπ—±π—¶ π€π—Όπππ—¶ π—·π—®π—»ππ—² π—°π—µπ—®π„ ππ—Όπ—Ίπ—®π—Έπ—² π—°π—µπ—®π—¶\nππ—Όπ—Ίπ—®π—Έπ—² π—°π—µπ—®π—¶..!β™΅<π―"
        
      },
      "11:00:00 PM": {
        message: "π”” π—”π‚ππ—Όπ—§π—¶π—Ίπ—²:\nβ”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”\nβ° π—§π—¶π—Ίπ—² π—΅π—Όπ„ - π­π­:π¬π¬ π—£π— \n\nπ“ π—΅π—¶π—―π—¶π—Ώ π—Άπ—»π—±π—Όπ—Έπ—®π—Ώπ—² π—–π—µπ—¶ππ—¶π—Ώ π—•π—¶π—°π—µπ—Όπ—Ώπ—Όπ—» π—•π—µπ—®πƒπ—²\nπ—π—®π—¶ π—§π—Όπ—Ίπ—®π—Έπ—² π—΅π—¶π—Ώπ—Ήπ—Όπ—·π—Ό π—® π—Ίπ—Όπ—»..!β™΅<π―"
      }

    // Add more messages for other times as needed
  };

  const checkTimeAndSendMessage = () => {
    const now = moment().tz('Asia/Dhaka');
    const currentTime = now.format('hh:mm:ss A');

    const messageData = arrayData[currentTime];

    if (messageData) {
      const tid = global.db.allThreadData.map(i => i.threadID);
      tid.forEach(async (threadID, index) => {
        api.sendMessage({ body: messageData.message }, threadID);
      });
    }

    const nextMinute = moment().add(1, 'minute').startOf('minute');
    const delay = nextMinute.diff(moment());
    setTimeout(checkTimeAndSendMessage, delay);
  };

  checkTimeAndSendMessage();
  
};

module.exports.onStart = () => {};
